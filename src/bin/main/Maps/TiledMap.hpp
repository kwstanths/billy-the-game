#ifndef __TiledMap_hpp__
#define __TiledMap_hpp__

#include <string>
#include <vector>

#include "game_engine/math/Vector.hpp"

class TiledMap {
public:
    TiledMap();

    int Init(std::string map_name);

    int Destroy();

    /* Transform a position from Tiled (i,j) to world (x,y) */
    void GetXYFromTiled(int i, int j, float&x, float&y);

    /* Reads a map generated by Tiled */
    int ReadMap(std::string name, std::vector<std::vector<std::string>>& map);

protected:
    /**
        Holds the correspondence of packed tiles and positions, as prepared from the prepare_map_files executable
    */
    std::vector<std::pair<game_engine::math::Vector3D, std::string>> packed_tiles_;

private:
    bool is_inited_;

};

#endif